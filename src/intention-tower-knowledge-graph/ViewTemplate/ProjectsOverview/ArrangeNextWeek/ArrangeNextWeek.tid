title: $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ArrangeNextWeek
caption: {{$:/core/images/edit-button}} <<lingo Tabs/ArrangeNextWeek $:/plugins/linonetwo/intention-tower-knowledge-graph/language/>>
tags: $:/tags/ITKG/ProjectsOverview

\whitespace trim
\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/WeekJournalSelect]]

{{$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/WeekJournalSelect}}

<% if [<journal-title-this-week>!is[missing]] %>
  <<tabs "[all[shadows]tag[$:/tags/ITKG/ArrangeNextWeek]nsort[order]]" "$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ArrangeNextWeek/Monday" "$:/temp/ITKG/ArrangeNextWeek" "tc-vertical">>
<% endif %>

<$basic-table
  height="800px"
  filter="[all[tiddlers]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]"
  columns="""
    [
      {
        field: 'title',
        title: 'Caption',
        width: 'auto',
      },
      {
        field: 'tags',
        title: 'Tags',
        width: 200,
        fieldFormat: (record) => record.tags.filter(tag => !([$tw.wiki.getTiddlerText('$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag', ''), $tw.wiki.getTiddlerText('$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag', '')].includes(tag))).join(', '),
      },
      ...$tw.wiki.getTiddlerText('$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/defaultFields-IntentionDynamicTable', '')
        .split(' ').filter(field => !(['title', 'tags'].includes(field)))
        .map(field => ({
          field,
          title: field,
          width: 'auto',
        })),
    ]
  """
/>
